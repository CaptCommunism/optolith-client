// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE
'use strict';

var ListH$OptolithClient = require("../../Data/ListH.bs.js");
var Maybe$OptolithClient = require("../../Data/Maybe.bs.js");

function flatten(getValueForTargetId, id, dependencies) {
  return Maybe$OptolithClient.mapMaybe((function (dep) {
                var match = dep.target;
                if (match.tag) {
                  var isMatchedByOtherEntry = ListH$OptolithClient.Foldable.any((function (value) {
                          return value >= dep.value;
                        }), ListH$OptolithClient.map(getValueForTargetId, ListH$OptolithClient.$$delete(id, match[0])));
                  if (isMatchedByOtherEntry) {
                    return /* Nothing */0;
                  } else {
                    return /* Just */[dep.value];
                  }
                } else {
                  return /* Just */[dep.value];
                }
              }), dependencies);
}

exports.flatten = flatten;
/* No side effect */
